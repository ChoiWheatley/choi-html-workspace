<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Test your skills : Events</title>
</head>

<body>
    <!--EVENTS ONE-->
    <div class="events-one">
        <h1>EVENTS 1</h1>
        <p>In our first events-related task, you need to create a simple event handler that causes the text inside the
            button (btn) to change when it is clicked on, and change back when it is clicked again.</p>
    </div>
    <button class="off">Machine is off</button>
    <script>
        let btn = document.querySelector(".off");
        let btnFlag = 0;
        btn.addEventListener("click", function () {
            if (!btnFlag) {
                btn.textContent = "Machine is on";
                btnFlag = 1;
            } else {
                btn.textContent = "Machine is off";
                btnFlag = 0;
            }
        });
    </script>


    <!--EVENTS TWO-->
    <div class="events-two">
        <h1>EVENTS 2</h1>
        <p>
            Now we'll look at keyboard events. To pass this assessment you need to build an event handler that moves the
            circle around the provided canvas when the WASD keys are pressed on the keyboard. The circle is drawn with
            the function drawCircle(), which takes the folllowing parameters as inputs:
        </p>
        <ul>
            <li>x — the x coordinate of the circle.</li>
            <li>y — the y coordinate of the circle.</li>
            <li>size — the radius of the circle.</li>
        </ul>
    </div>
    <canvas width="480" height="320"></canvas>
    <script>

        let canvas = document.querySelector('canvas');
        let ctx = canvas.getContext('2d');

        function drawCircle(x, y, size) {
            ctx.fillStyle = 'white';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            ctx.beginPath();
            ctx.fillStyle = 'black';
            ctx.arc(x, y, size, 0, 2 * Math.PI);
            ctx.fill();
        }

        let x = 50;
        let y = 50;
        const size = 30;

        drawCircle(x, y, size);

        // Add your code here
        document.body.addEventListener("keydown", e => {
            switch (e.code) {
                case "ArrowLeft":
                    console.log(e.code);
                    x -= 5;
                    drawCircle(x, y, size);
                    break;
                case "ArrowRight":
                    console.log(e.code);
                    x += 5;
                    drawCircle(x, y, size);
                    break;
                case "ArrowUp":
                    console.log(e.code);
                    y -= 5;
                    drawCircle(x, y, size);
                    break;
                case "ArrowDown":
                    console.log(e.code);
                    y += 5;
                    drawCircle(x, y, size);
                    break;
            }
        });
    </script>

    <!--EVENT 3-->
    <div>
        <h1>EVENTS 3</h1>
        <p>
            <p>In our final events-related task, you need to set an event listener on
                the&nbsp;<code>&lt;button&gt;</code>s' parent element
                (<code>&lt;div class="button-bar"&gt; ... &lt;/div&gt;</code>), which when invoked by clicking any of
                the buttons will set the background of the&nbsp;<code>button-bar</code>&nbsp;to the color contained in
                the button's&nbsp;<code>data-color</code>&nbsp;attribute.</p>
            <p>We want you to solve this without looping through all the buttons and giving each one their own event
                listener.</p>
            <p>Try updating the live code below to recreate the finished example:</p>
        </p>
    </div>
    <section class="preview"></section>
    <div class="button-bar">
        <button data-color="red">Red</button>
        <button data-color="yellow">Yellow</button>
        <button data-color="green">Green</button>
        <button data-color="purple">Purple</button>
    </div>
    <script>
        let buttonBar = document.querySelector(".button-bar");
        let section = document.querySelector("section");

        buttonBar.addEventListener("click", e => {
            switch (e.target.textContent) {
                case "Red":
                    buttonBar.style.backgroundColor = "red";
                    break;
                case "Yellow":
                    buttonBar.style.backgroundColor = "yellow";
                    break;
                case "Green":
                    buttonBar.style.backgroundColor = "green";
                    break;
                case "Purple":
                    buttonBar.style.backgroundColor = "purple";
                    break;
            }
        });
    </script>

</body>

</html>